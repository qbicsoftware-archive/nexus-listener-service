sudo: false
dist: trusty
language: java
jdk: openjdk8
cache:
  directories:
  - $HOME/.m2/repository
branches:
  only:
  - master
  - development
before_install: unset _JAVA_OPTIONS
install: true
before_script: if [ "$VAADIN_CHARTS_LICENSE_CODE" != "" ]; then echo "$VAADIN_CHARTS_LICENSE_CODE"
  > ~/.vaadin.charts.developer.license; fi;
script: mvn --quiet --activate-profiles !development-build,!release-build --settings
  .travis.settings.xml clean cobertura:cobertura install
after_success:
- bash <(curl -s https://codecov.io/bash)
- mvn --quiet --activate-profiles !development-build,!release-build --settings .travis.settings.xml
  site
deploy:
- skip_cleanup: true
  provider: script
  script: mvn --quiet --activate-profiles development-build,!release-build --settings
    .travis.settings.xml deploy
  on:
    branch: development
    condition: '"$TRAVIS_EVENT_TYPE" = "push"'
- skip_cleanup: true
  provider: script
  script: mvn --quiet --activate-profiles !development-build,release-build --settings
    .travis.settings.xml deploy
  on:
    branch: master
    condition: '"$TRAVIS_EVENT_TYPE" = "push"'
notifications:
  email:
    on_success: never
    on_failure: never
  slack:
    on_success: never
    on_failure: always
    rooms:
    - secure: '***'
env:
  global:
  - secure: BGpOLUHkaoXC553ieHZF+V9wzH35saNoABB/tk9l7CIjdQdTDoCleolXvDb0yA5ZV/4F6Kn+NHyefAiNxPYeWfPHo1+Nb2jfX35v4A2Jiu1sAamp+g5rn7eRL3zJHBhkD8dkLW1YOKKS3+mKO2wKN1WYP3oDeZ2GCZFPqGWX1W64KohYa6kNQzt5yAhMfseiEZNNY4bsErkz87xoUSw3gdwCUTrKGesKHxT8SfRsxcrFxjIm0yv0uQ8FvUlyeKYLmtiy1AYojwtWFfbSIPcMl5++U1bh6+7e5tIr/evPBQ1b8i1OU5K1t1TD5QW6j+T/YHbAokrmxTv1ya5gpttma+931UJrQAOmH0EotLqv+/A1uNymOStOoibOf3pLCHtGQyycXuflR2rqAuxcbj++a+Nx2H4iXPAEus9OoHruS7wS9c3voS4qgolkSDqTZEn7duJPqJPQi52OnCSGJwGhpRNyfEjpyiMMdsBalZdA52sVKMgJRoaBubRqaRZt9qlVpeBu5Z+HyrM6CGP8uq0n9s28pDkOVlSY78lOOnbBmXpMXqZtjhffqjKY5iRIDeNCz8VGNNwU6LV0PXiz6hk70hOPl/TkGTvUKhN6aphllb9qVcjGGJb1zYzBMkSh+RqYU5nvfdgPA2m1cg7VX0iOjdE1W580AhoUMfKYdUhE7EM=
  - secure: FxDRcAYIchE6J7KHlcwtoGm1XU57vyqLSc80M6cpLvWjUtAbVjfAacxsAQI5/QHu7rgG67fL7KpAu99uTng//DWIK8BVaAKkM0BeGopuMHkadW7c+C/+2ErN8tMSr0PW9MEoIV/jWLzpvH/X6bG/WCb87wE+xkyoen2GM5Dsd7rdEvtqzV8VZVOKF//b3Ei/9qBVRRDdFydVFwanRqgl+fh/YCMZg4DgTiTTJbH+KDlRwZuhDE6arLnSTp+Rbmp5OCoMrqfVVRNckSmqitNEw3TBrK/FEx8LXPMTurCokwmo5l0rd1cfUUUfkhUT4d0rwB3EuU/LDwq50SnmCaSmcFvmmPBrCCJJYo6Aw3yi0rEwEZqmmNrQT0WDkYcUu4xFPGR2DjBch3sMtxMtWNk4ju+dZ775M0dvGSeMWyOH9oxllGF83Eb4SQ913/oHiKOsn/RYq/PIkmVOPX7HNmONlMK0QQfQyZH/DXxskd0+MKkphP2AQVIPCArPWKE/NdsT5vHg1LxqZzIxfrLS+3WHamyd9habGTrZlp9BQQ/3O9QbYXc5yT7K8eLCyFLxZnS5ZUkpoHmhNtb6CNX6/0H6k1tPq/+8P0dovJ57Vnjfxxx8GM8sdaXhd1j40opgy5Z2nTO1EZcMnhivYHJYh9i+ATbvDg67Q8dik40WT+XLs+c=
